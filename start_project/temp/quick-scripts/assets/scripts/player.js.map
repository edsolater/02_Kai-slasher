{"version":3,"sources":["player.js"],"names":["cc","Class","extends","Component","properties","jumpHeight","jumpDuration","maxMoveSpeed","accel","setJumpAction","jumpUp","moveBy","v2","easing","easeCubicActionOut","jumpDown","easeCubicActionIn","repeatForever","sequence","onKeyDown","event","keyCode","macro","KEY","a","accLeft","d","accRight","onKeyUp","onLoad","node","runAction"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAA,GAAGC,KAAH,CAAS;AACPC,WAASF,GAAGG,SADL;;AAGPC,cAAY;AACV;AACAC,gBAAY,CAFF;AAGV;AACAC,kBAAc,CAJJ;AAKV;AACAC,kBAAc,CANJ;AAOV;AACAC,WAAO;AARG,GAHL;AAaPC,iBAAe,yBAAW;AACxB;AACA,QAAMC,SAASV,GACZW,MADY,CACL,KAAKL,YADA,EACcN,GAAGY,EAAH,CAAM,CAAN,EAAS,KAAKP,UAAd,CADd,EAEZQ,MAFY,CAELb,GAAGc,kBAAH,EAFK,CAAf;AAGA;AACA,QAAMC,WAAWf,GACdW,MADc,CACP,KAAKL,YADE,EACYN,GAAGY,EAAH,CAAM,CAAN,EAAS,CAAC,KAAKP,UAAf,CADZ,EAEdQ,MAFc,CAEPb,GAAGgB,iBAAH,EAFO,CAAjB;AAGA;AACA,WAAOhB,GAAGiB,aAAH,CAAiBjB,GAAGkB,QAAH,CAAYR,MAAZ,EAAoBK,QAApB,CAAjB,CAAP;AACD,GAxBM;AAyBPI,WAzBO,qBAyBIC,KAzBJ,EAyBW;AAChB;AACA,YAAOA,MAAMC,OAAb;AACI,WAAKrB,GAAGsB,KAAH,CAASC,GAAT,CAAaC,CAAlB;AACI,aAAKC,OAAL,GAAe,IAAf;AACA;AACJ,WAAKzB,GAAGsB,KAAH,CAASC,GAAT,CAAaG,CAAlB;AACI,aAAKC,QAAL,GAAgB,IAAhB;AACA;AANR;AAQH,GAnCQ;AAqCTC,SArCS,mBAqCAR,KArCA,EAqCO;AACZ;AACA,YAAOA,MAAMC,OAAb;AACI,WAAKrB,GAAGsB,KAAH,CAASC,GAAT,CAAaC,CAAlB;AACI,aAAKC,OAAL,GAAe,KAAf;AACA;AACJ,WAAKzB,GAAGsB,KAAH,CAASC,GAAT,CAAaG,CAAlB;AACI,aAAKC,QAAL,GAAgB,KAAhB;AACA;AANR;AAQH,GA/CQ;AAiDPE,QAjDO,oBAiDE;AACP;AACA,SAAKC,IAAL,CAAUC,SAAV,CAAoB,KAAKtB,aAAL,EAApB;AACD;AApDM,CAAT","file":"player.js","sourceRoot":"..\\..\\..\\..\\assets\\scripts","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\ncc.Class({\r\n  extends: cc.Component,\r\n\r\n  properties: {\r\n    // 主角跳跃高度\r\n    jumpHeight: 0,\r\n    // 主角跳跃持续时间\r\n    jumpDuration: 0,\r\n    // 最大移动速度\r\n    maxMoveSpeed: 0,\r\n    // 加速度\r\n    accel: 0\r\n  },\r\n  setJumpAction: function() {\r\n    // 跳跃上升\r\n    const jumpUp = cc\r\n      .moveBy(this.jumpDuration, cc.v2(0, this.jumpHeight))\r\n      .easing(cc.easeCubicActionOut());\r\n    // 下落\r\n    const jumpDown = cc\r\n      .moveBy(this.jumpDuration, cc.v2(0, -this.jumpHeight))\r\n      .easing(cc.easeCubicActionIn());\r\n    // 不断重复\r\n    return cc.repeatForever(cc.sequence(jumpUp, jumpDown));\r\n  },\r\n  onKeyDown (event) {\r\n    // set a flag when key pressed\r\n    switch(event.keyCode) {\r\n        case cc.macro.KEY.a:\r\n            this.accLeft = true;\r\n            break;\r\n        case cc.macro.KEY.d:\r\n            this.accRight = true;\r\n            break;\r\n    }\r\n},\r\n\r\nonKeyUp (event) {\r\n    // unset a flag when key released\r\n    switch(event.keyCode) {\r\n        case cc.macro.KEY.a:\r\n            this.accLeft = false;\r\n            break;\r\n        case cc.macro.KEY.d:\r\n            this.accRight = false;\r\n            break;\r\n    }\r\n},\r\n\r\n  onLoad() {\r\n    // 初始化跳跃动作\r\n    this.node.runAction(this.setJumpAction());\r\n  }\r\n});\r\n"]}